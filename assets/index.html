<!doctype html>
<html>
    <head>
        <link rel="stylesheet" href="../css/trellor.css" />
        <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
            rel="stylesheet"
            integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
            crossorigin="anonymous"
        />
    </head>
    <body>
        <div class="container">
            <div class="board-list">
                <div id="board-list"></div>
                <!-- <h2>Board List</h2>
                <div class="board-item">Board 1</div>
                <div class="board-item">Board 2</div> -->
                <!-- <div><button id="boardBtn">Add a board...</button></div> -->
            </div>

            <div draggable="true" class="board-data" id="board-data">
                <!-- <h2>Board 1</h2>
                <div class="column">
                    <h3>Column 1</h3>
                    <div class="card">Card 1</div>
                    <div class="card">Card 2</div>
                    <button>Add a card...</button>
                </div>
                <div class="column">
                    <h3>Column 2</h3>
                    <div class="card">Card 1</div>
                    <div class="card">Card 2</div>
                    
                </div> -->
            </div>
            <div id="columnBtn"></div>
        </div>

        <div id="createCard"></div>
        <div id="updateCard"></div>

        <div id="createCloumn"></div>
        <div id="updateCloumn"></div>

        <div id="createBoard"></div>
        <div id="updateBoard"></div>

        <div id="invited_user"></div>

        <div id="alarm_Btn"></div>

        <!-- 유저 초대 모달 -->
        <div
            class="modal fade"
            id="inviteModal"
            data-bs-backdrop="static"
            tabindex="-1"
            data-bs-keyboard="false"
            aria-labelledby="inviteModal"
            aria-hidden="true"
        ></div>

        <!-- 알림 모달 -->
        <div
            class="modal fade"
            id="alarmModal"
            tabindex="-1"
            data-bs-keyboard="false"
            aria-labelledby="alarmModal"
            aria-hidden="true"
        ></div>

        <script
            src="https://code.jquery.com/jquery-3.5.1.js"
            integrity="sha256-QWo7LDvxbWT2tbbQ97B53yJnYU3WhH/C8ycbRAkjPDc="
            crossorigin="anonymous"
        ></script>

        <script
            src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
            crossorigin="anonymous"
        ></script>
        <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
        <script src="../js/constant.js"></script>
        <script src="../js/trellor.js"></script>

        <!-- <script>
            if (localStorage.getItem("accessToken")) {
                console.log(localStorage.getItem("accessToken"));
                getSelf(function () {
                    alert(
                        "이미 로그인이 되어있습니다. 메인페이지로 이동합니다.",
                    );
                    window.location.replace("/index.html");d
                });
            }
        </script> -->

        <script>
            var dragged;

            /* events fired on the draggable target */
            document.addEventListener("drag", function (event) {}, false);

            document.addEventListener(
                "dragstart",
                function (event) {
                    // store a reference to the dragged element
                    dragged = event.target;
                    // make it half transparent
                    event.target.style.opacity = 0.5;
                },
                false,
            );

            document.addEventListener(
                "dragend",
                function (event) {
                    // reset the transparency
                    event.target.style.opacity = "";
                },
                false,
            );

            /* events fired on the drop targets */
            document.addEventListener(
                "dragover",
                function (event) {
                    // prevent default to allow drop
                    event.preventDefault();
                },
                false,
            );

            document.addEventListener(
                "dragenter",
                function (event) {
                    // highlight potential drop target when the draggable element enters it
                    if (
                        event.target.className == "column" ||
                        event.target.className == "card"
                    ) {
                        event.target.style.background = "purple";
                    }
                },
                false,
            );

            document.addEventListener(
                "dragleave",
                function (event) {
                    // reset background of potential drop target when the draggable element leaves it
                    if (
                        event.target.className == "column" ||
                        event.target.className == "card"
                    ) {
                        event.target.style.background = "";
                    }
                },
                false,
            );

            document.addEventListener(
                "drop",
                function (event) {
                    // prevent default action (open as link for some elements)
                    event.preventDefault();
                    // move dragged element to the location of the drop
                    if (event.target.className == "column") {
                        event.target.style.background = "";
                        dragged.parentNode.removeChild(dragged);
                        event.target.appendChild(dragged);
                    } else if (event.target.className == "card") {
                        event.target.style.background = "";
                        dragged.parentNode.removeChild(dragged);
                        event.target.parentNode.insertBefore(
                            dragged,
                            event.target,
                        );
                    }
                },
                false,
            );
        </script>
    </body>
</html>
